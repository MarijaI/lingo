<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>Class: Attendee::Tokenizer</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/attendee/tokenizer.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link"><a href="../Attendee.html">Attendee</a>
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-i-control">#control</a>
    
    <li><a href="#method-i-init">#init</a>
    
    <li><a href="#method-i-process">#process</a>
    
    <li><a href="#method-i-tokenize">#tokenize</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../COPYING.html">COPYING</a>
  
    <li class="file"><a href="../ChangeLog.html">ChangeLog</a>
  
    <li class="file"><a href="../README.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../Attendee.html">Attendee</a>
  
    <li><a href="../Attendee/Abbreviator.html">Attendee::Abbreviator</a>
  
    <li><a href="../Attendee/Debugger.html">Attendee::Debugger</a>
  
    <li><a href="../Attendee/Decomposer.html">Attendee::Decomposer</a>
  
    <li><a href="../Attendee/Dehyphenizer.html">Attendee::Dehyphenizer</a>
  
    <li><a href="../Attendee/Formatter.html">Attendee::Formatter</a>
  
    <li><a href="../Attendee/Helper.html">Attendee::Helper</a>
  
    <li><a href="../Attendee/Multiworder.html">Attendee::Multiworder</a>
  
    <li><a href="../Attendee/Noneword_filter.html">Attendee::Noneword_filter</a>
  
    <li><a href="../Attendee/Objectfilter.html">Attendee::Objectfilter</a>
  
    <li><a href="../Attendee/Sequencer.html">Attendee::Sequencer</a>
  
    <li><a href="../Attendee/Synonymer.html">Attendee::Synonymer</a>
  
    <li><a href="../Attendee/Textreader.html">Attendee::Textreader</a>
  
    <li><a href="../Attendee/Textreader/PDFFilter.html">Attendee::Textreader::PDFFilter</a>
  
    <li><a href="../Attendee/Textwriter.html">Attendee::Textwriter</a>
  
    <li><a href="../Attendee/Tokenizer.html">Attendee::Tokenizer</a>
  
    <li><a href="../Attendee/Variator.html">Attendee::Variator</a>
  
    <li><a href="../Attendee/Vector_filter.html">Attendee::Vector_filter</a>
  
    <li><a href="../Attendee/Wordsearcher.html">Attendee::Wordsearcher</a>
  
    <li><a href="../Diff.html">Diff</a>
  
    <li><a href="../Diff/LCS.html">Diff::LCS</a>
  
    <li><a href="../Diff/LCS/DefaultCallbacks.html">Diff::LCS::BalancedCallbacks</a>
  
    <li><a href="../Diff/LCS/Block.html">Diff::LCS::Block</a>
  
    <li><a href="../Diff/LCS/Change.html">Diff::LCS::Change</a>
  
    <li><a href="../Diff/LCS/ChangeTypeTests.html">Diff::LCS::ChangeTypeTests</a>
  
    <li><a href="../Diff/LCS/ContextChange.html">Diff::LCS::ContextChange</a>
  
    <li><a href="../Diff/LCS/ContextDiffCallbacks.html">Diff::LCS::ContextDiffCallbacks</a>
  
    <li><a href="../Diff/LCS/DefaultCallbacks.html">Diff::LCS::DefaultCallbacks</a>
  
    <li><a href="../Diff/LCS/DiffCallbacks.html">Diff::LCS::DiffCallbacks</a>
  
    <li><a href="../Diff/LCS/Hunk.html">Diff::LCS::Hunk</a>
  
    <li><a href="../Diff/LCS/Ldiff.html">Diff::LCS::Ldiff</a>
  
    <li><a href="../Diff/LCS/SDiffCallbacks.html">Diff::LCS::SDiffCallbacks</a>
  
    <li><a href="../Diff/LCS/DefaultCallbacks.html">Diff::LCS::SequenceCallbacks</a>
  
    <li><a href="../Lingo.html">Lingo</a>
  
    <li><a href="../Lingo/Version.html">Lingo::Version</a>
  
    <li><a href="../AgendaItem.html">AgendaItem</a>
  
    <li><a href="../Array.html">Array</a>
  
    <li><a href="../BufferedAttendee.html">BufferedAttendee</a>
  
    <li><a href="../Cachable.html">Cachable</a>
  
    <li><a href="../Compositum.html">Compositum</a>
  
    <li><a href="../Crypter.html">Crypter</a>
  
    <li><a href="../DbmFile.html">DbmFile</a>
  
    <li><a href="../Dictionary.html">Dictionary</a>
  
    <li><a href="../File.html">File</a>
  
    <li><a href="../Grammar.html">Grammar</a>
  
    <li><a href="../IO.html">IO</a>
  
    <li><a href="../Lexical.html">Lexical</a>
  
    <li><a href="../LexicalHash.html">LexicalHash</a>
  
    <li><a href="../LingoConfig.html">LingoConfig</a>
  
    <li><a href="../Meeting.html">Meeting</a>
  
    <li><a href="../Object.html">Object</a>
  
    <li><a href="../Pathname.html">Pathname</a>
  
    <li><a href="../Reportable.html">Reportable</a>
  
    <li><a href="../ShowPercent.html">ShowPercent</a>
  
    <li><a href="../String.html">String</a>
  
    <li><a href="../StringA.html">StringA</a>
  
    <li><a href="../Token.html">Token</a>
  
    <li><a href="../Txt2DbmConverter.html">Txt2DbmConverter</a>
  
    <li><a href="../TxtFile.html">TxtFile</a>
  
    <li><a href="../TxtFile_Keyvalue.html">TxtFile_Keyvalue</a>
  
    <li><a href="../TxtFile_Multikey.html">TxtFile_Multikey</a>
  
    <li><a href="../TxtFile_Multivalue.html">TxtFile_Multivalue</a>
  
    <li><a href="../TxtFile_Singleword.html">TxtFile_Singleword</a>
  
    <li><a href="../TxtFile_Wordclass.html">TxtFile_Wordclass</a>
  
    <li><a href="../Word.html">Word</a>
  
    <li><a href="../WordSequence.html">WordSequence</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Attendee::Tokenizer</h1>

  <div id="description" class="description">
    
<h2 id="label-Tokenizer"><a href="Tokenizer.html">Tokenizer</a></h2>

<p>Der <a href="Tokenizer.html">Tokenizer</a> zerlegt eine Textzeile in
einzelne <a href="../Token.html">Token</a>. Dies ist notwendig, damit
nachfolgende Attendees die Textdatei häppchenweise verarbeiten können.</p>

<h3 id="label-M%C3%B6gliche+Verlinkung">Mögliche Verlinkung</h3>
<dl class="rdoc-list note-list"><dt>Erwartet
<dd>
<p>Daten des Typs <strong><a href="../String.html">String</a></strong>
(Textzeilen) z.B. von <a href="Textreader.html">Textreader</a></p>
</dd><dt>Erzeugt
<dd>
<p>Daten des Typs <strong><a href="../Token.html">Token</a></strong> z.B. für
<a href="Abbreviator.html">Abbreviator</a>, <a
href="Wordsearcher.html">Wordsearcher</a></p>
</dd></dl>

<h3 id="label-Parameter">Parameter</h3>

<p>Kursiv dargestellte Parameter sind optional (ggf. mit Angabe der
Voreinstellung).  Alle anderen Parameter müssen zwingend angegeben werden.</p>
<dl class="rdoc-list note-list"><dt><strong>in</strong>
<dd>
<p>siehe allgemeine Beschreibung des <a href="../Attendee.html">Attendee</a>.</p>
</dd><dt><strong>out</strong>
<dd>
<p>siehe allgemeine Beschreibung des <a href="../Attendee.html">Attendee</a></p>
</dd></dl>

<h3 id="label-Konfiguration">Konfiguration</h3>

<p>Der <a href="Tokenizer.html">Tokenizer</a> benötigt zur Identifikation
einzelner <a href="../Token.html">Token</a> Regeln, nach denen er  arbeiten
soll. Die benötigten Regeln werden aufgrund des Umfangs nicht als
Parameter, sondern in der Sprachkonfiguration hinterlegt, die sich
standardmäßig in der Datei <code>de.lang</code> befindet (YAML-Format).</p>

<pre class="ruby"><span class="ruby-identifier">language</span><span class="ruby-operator">:</span>
  <span class="ruby-identifier">attendees</span><span class="ruby-operator">:</span>
    <span class="ruby-identifier">tokenizer</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">regulars</span><span class="ruby-operator">:</span>
        <span class="ruby-operator">-</span> <span class="ruby-identifier">_CHR_</span><span class="ruby-operator">:</span> <span class="ruby-string">'\wÄÖÜÁÂÀÉÊÈÍÎÌÓÔÒÚÛÙÝäöüáâàéêèíîìóôòúûùý'</span>
        <span class="ruby-operator">-</span> <span class="ruby-constant">NUMS</span><span class="ruby-operator">:</span>  <span class="ruby-string">'[+-]?(\d{4,}|\d{1,3}(\.\d{3,3})*)(\.|(,\d+)?%?)'</span>
        <span class="ruby-operator">-</span> <span class="ruby-constant">URLS</span><span class="ruby-operator">:</span>  <span class="ruby-string">'((mailto:|(news|http|https|ftp|ftps)://)\S+|^(www(\.\S+)+)|\S+([\._]\S+)+@\S+(\.\S+)+)'</span>
        <span class="ruby-operator">-</span> <span class="ruby-constant">ABRV</span><span class="ruby-operator">:</span>  <span class="ruby-string">'(([_CHR_]+\.)+)[_CHR_]+'</span>
        <span class="ruby-operator">-</span> <span class="ruby-constant">ABRS</span><span class="ruby-operator">:</span>  <span class="ruby-string">'(([_CHR_]{1,1}\.)+)(?!\.\.)'</span>
        <span class="ruby-operator">-</span> <span class="ruby-constant">WORD</span><span class="ruby-operator">:</span>  <span class="ruby-string">'[_CHR_\d]+'</span>
        <span class="ruby-operator">-</span> <span class="ruby-constant">PUNC</span><span class="ruby-operator">:</span>  <span class="ruby-string">'[!,\.:;?]'</span>
        <span class="ruby-operator">-</span> <span class="ruby-constant">OTHR</span><span class="ruby-operator">:</span>  <span class="ruby-string">'[!\&quot;#$%&amp;()*\+,\-\./:;&lt;=&gt;?@\[\\]^_`{|}~´]'</span>
        <span class="ruby-operator">-</span> <span class="ruby-constant">HELP</span><span class="ruby-operator">:</span>  <span class="ruby-string">'.*'</span>
</pre>

<p>Die Regeln werden in der angegebenen Reihenfolge abgearbeitet, solange bis
ein <a href="../Token.html">Token</a>  erkannt wurde. Sollte keine Regel
zutreffen, so greift die letzt Regel <code>HELP</code> in jedem  Fall.
Regeln, deren Name in Unterstriche eingefasst sind, werden als Makro
interpretiert.  Makros werden genutzt, um lange oder sich wiederholende
Bestandteile von Regeln einmalig zu definieren und in den Regeln über den
Makronamen eine Auflösung zu forcieren. Makros werden selber nicht für die
Erkennung von <a href="../Token.html">Token</a> eingesetzt.</p>

<h3 id="label-Generierte+Kommandos">Generierte Kommandos</h3>

<p>Damit der nachfolgende Datenstrom einwandfrei verarbeitet werden kann,
generiert der <a href="Tokenizer.html">Tokenizer</a> Kommandos, die mit in
den Datenstrom eingefügt werden.</p>
<dl class="rdoc-list note-list"><dt><strong>*EOL(&lt;dateiname&gt;)</strong>
<dd>
<p>Kennzeichnet das Ende einer Textzeile, da die Information ansonsten</p>
</dd></dl>

<p>für nachfolgende Attendees verloren wäre.</p>

<h3 id="label-Beispiele">Beispiele</h3>

<p>Bei der Verarbeitung einer normalen Textdatei mit der Ablaufkonfiguration
<code>t1.cfg</code></p>

<pre>meeting:
  attendees:
    - textreader: { out: lines, files: '$(files)' }
    - tokenizer:  { in: lines, out: token }
    - debugger:   { in: token, prompt: 'out&gt;' }</pre>

<p>ergibt die Ausgabe über den Debugger: <code>lingo -c t1 test.txt</code></p>

<pre>out&gt; *FILE('test.txt')
out&gt; :Dies/WORD:
out&gt; :ist/WORD:
out&gt; :eine/WORD:
out&gt; :Zeile/WORD:
out&gt; :./PUNC:
out&gt; *EOL('test.txt')
out&gt; :Dies/WORD:
out&gt; :ist/WORD:
out&gt; :noch/WORD:
out&gt; :eine/WORD:
out&gt; :./PUNC:
out&gt; *EOL('test.txt')
out&gt; *EOF('test.txt')</pre>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="protected-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Protected Instance Methods</h3>

    
      <div id="method-i-control" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">control</span><span
            class="method-args">(cmd, param)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="control-source">
            <pre><span class="ruby-comment"># File lib/attendee/tokenizer.rb, line 143</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">control</span>(<span class="ruby-identifier">cmd</span>, <span class="ruby-identifier">param</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">cmd</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">STR_CMD_FILE</span> <span class="ruby-keyword">then</span> <span class="ruby-ivar">@filename</span> = <span class="ruby-identifier">param</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">STR_CMD_LIR</span>  <span class="ruby-keyword">then</span> <span class="ruby-ivar">@filename</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">STR_CMD_EOF</span>  <span class="ruby-keyword">then</span> <span class="ruby-ivar">@cont</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- control-source -->
          
        </div>

        

        
      </div><!-- control-method -->

    
      <div id="method-i-init" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">init</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="init-source">
            <pre><span class="ruby-comment"># File lib/attendee/tokenizer.rb, line 104</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">init</span>
  <span class="ruby-comment">#  Regular Expressions für Token-Erkennung einlesen</span>
  <span class="ruby-identifier">regulars</span> = <span class="ruby-identifier">get_key</span>(<span class="ruby-string">'regulars'</span>, <span class="ruby-string">''</span>)
  <span class="ruby-identifier">forward</span>(<span class="ruby-constant">STR_CMD_ERR</span>, <span class="ruby-string">'regulars nicht definiert'</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">regulars</span>

  <span class="ruby-ivar">@space</span> = <span class="ruby-identifier">get_key</span>(<span class="ruby-string">'space'</span>, <span class="ruby-keyword">false</span>)
  <span class="ruby-ivar">@tags</span> = <span class="ruby-identifier">get_key</span>(<span class="ruby-string">'tags'</span>, <span class="ruby-keyword">true</span>)

  <span class="ruby-comment"># default rules</span>
  <span class="ruby-ivar">@rules</span> = [[<span class="ruby-string">'SPAC'</span>, <span class="ruby-regexp">/^\s+/</span>]]
  <span class="ruby-ivar">@rules</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-string">'HTML'</span>, <span class="ruby-regexp">/^&lt;[^&gt;]+&gt;/</span>] <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@tags</span>

  <span class="ruby-comment">#  Mit _xxx_ gekennzeichnete Makros anwenden und Expressions ergänzen und umwandeln</span>
  <span class="ruby-identifier">macros</span> = {}

  <span class="ruby-identifier">regulars</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">rule</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-identifier">rule</span>.<span class="ruby-identifier">keys</span>[<span class="ruby-value">0</span>]
    <span class="ruby-identifier">expr</span> = <span class="ruby-identifier">rule</span>.<span class="ruby-identifier">values</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/_(\w+?)_/</span>) {
      <span class="ruby-identifier">macros</span>[<span class="ruby-node">$&amp;</span>] <span class="ruby-operator">||</span> <span class="ruby-keyword">begin</span>
        <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-node">&quot;UTF_8_#{$1.upcase}&quot;</span>)
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span>
      <span class="ruby-keyword">end</span>
    }

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^_\w+_$/</span>    <span class="ruby-comment">#    is a macro</span>
      <span class="ruby-identifier">macros</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">expr</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^_\w+_$/</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-ivar">@rules</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">name</span>, <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">'^'</span><span class="ruby-operator">+</span><span class="ruby-identifier">expr</span>)]
    <span class="ruby-keyword">end</span>
  }

  <span class="ruby-comment">#  Der Tokenizer gibt jedes Zeilenende als Information weiter, sofern es sich </span>
  <span class="ruby-comment">#  nicht um die Verarbeitung einer LIR-Datei handelt. Im Falle einer normalen Datei</span>
  <span class="ruby-comment">#  wird der Dateiname gespeichert und als Kennzeichen für die Erzeugung von </span>
  <span class="ruby-comment">#  Zeilenende-Nachrichten herangezogen.</span>
  <span class="ruby-ivar">@filename</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- init-source -->
          
        </div>

        

        
      </div><!-- init-method -->

    
      <div id="method-i-process" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">process</span><span
            class="method-args">(obj)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="process-source">
            <pre><span class="ruby-comment"># File lib/attendee/tokenizer.rb, line 152</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">process</span>(<span class="ruby-identifier">obj</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
    <span class="ruby-identifier">inc</span>(<span class="ruby-string">'Anzahl Zeilen'</span>)

    <span class="ruby-identifier">tokenize</span>(<span class="ruby-identifier">obj</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">form</span>, <span class="ruby-identifier">attr</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">token</span> = <span class="ruby-constant">Token</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">form</span>, <span class="ruby-identifier">attr</span>)

      <span class="ruby-identifier">inc</span>(<span class="ruby-string">'Anzahl Muster '</span><span class="ruby-operator">+</span><span class="ruby-identifier">token</span>.<span class="ruby-identifier">attr</span>)
      <span class="ruby-identifier">inc</span>(<span class="ruby-string">'Anzahl Token'</span>)

      <span class="ruby-identifier">forward</span>(<span class="ruby-identifier">token</span>)
    }

    <span class="ruby-identifier">forward</span>(<span class="ruby-constant">STR_CMD_EOL</span>, <span class="ruby-ivar">@filename</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@filename</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">forward</span>(<span class="ruby-identifier">obj</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- process-source -->
          
        </div>

        

        
      </div><!-- process-method -->

    
    </section><!-- protected-instance-method-details -->
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Private Instance Methods</h3>

    
      <div id="method-i-tokenize" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">tokenize</span><span
            class="method-args">(textline) { |$~[0], name| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>tokenize(“Eine Zeile.”)  -&gt;  [:Eine/WORD:, :Zeile/WORD:, :./PUNC:]</p>
          

          
          <div class="method-source-code" id="tokenize-source">
            <pre><span class="ruby-comment"># File lib/attendee/tokenizer.rb, line 174</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">tokenize</span>(<span class="ruby-identifier">textline</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@cont</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-string">'HTML'</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">textline</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^[^&lt;&gt;]*&gt;/</span>
      <span class="ruby-keyword">yield</span> <span class="ruby-identifier">$~</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">name</span>
      <span class="ruby-identifier">textline</span> = <span class="ruby-node">$'</span>
      <span class="ruby-ivar">@cont</span> = <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">yield</span> <span class="ruby-identifier">textline</span>, <span class="ruby-identifier">name</span>
      <span class="ruby-keyword">return</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">textline</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/&lt;[^&lt;&gt;]*$/</span>
      <span class="ruby-keyword">yield</span> <span class="ruby-identifier">$~</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">name</span>
      <span class="ruby-identifier">textline</span> = <span class="ruby-node">$`</span>
      <span class="ruby-ivar">@cont</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@tags</span>

  <span class="ruby-keyword">until</span> <span class="ruby-identifier">textline</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-ivar">@rules</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">expr</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">textline</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">expr</span>
        <span class="ruby-keyword">yield</span> <span class="ruby-identifier">$~</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">name</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">!=</span> <span class="ruby-string">'SPAC'</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@space</span>
        <span class="ruby-identifier">textline</span> = <span class="ruby-node">$'</span>
        <span class="ruby-keyword">break</span>
      <span class="ruby-keyword">end</span>
    }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- tokenize-source -->
          
        </div>

        

        
      </div><!-- tokenize-method -->

    
    </section><!-- private-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.11.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

